# C++ Unordered å®¹å™¨è¯¦è§£

## ğŸ¯ ä»€ä¹ˆæ˜¯Unorderedå®¹å™¨ï¼Ÿ

### unordered_set
- **æ— åºé›†åˆ**: å…ƒç´ ä¸æŒ‰é¡ºåºå­˜å‚¨ï¼ŒåŸºäºå“ˆå¸Œè¡¨å®ç°
- **å¿«é€ŸæŸ¥æ‰¾**: O(1)å¹³å‡æ—¶é—´å¤æ‚åº¦çš„æŸ¥æ‰¾ã€æ’å…¥ã€åˆ é™¤
- **å”¯ä¸€æ€§**: ä¸å…è®¸é‡å¤å…ƒç´ 

### unordered_map
- **æ— åºæ˜ å°„**: é”®å€¼å¯¹å®¹å™¨ï¼ŒåŸºäºå“ˆå¸Œè¡¨å®ç°
- **å¿«é€Ÿè®¿é—®**: O(1)å¹³å‡æ—¶é—´å¤æ‚åº¦çš„æŸ¥æ‰¾å’Œä¿®æ”¹
- **é”®å”¯ä¸€**: æ¯ä¸ªkeyåªèƒ½å¯¹åº”ä¸€ä¸ªvalue

## ğŸ”§ åŸºæœ¬ç‰¹æ€§

### ä¼˜åŠ¿
- **å¿«é€Ÿæ“ä½œ**: å¹³å‡O(1)æ—¶é—´å¤æ‚åº¦
- **å†…å­˜æ•ˆç‡**: æ¯”çº¢é»‘æ ‘å®¹å™¨æ›´èŠ‚çœå†…å­˜
- **ç®€å•å®ç°**: åŸºäºå“ˆå¸Œå‡½æ•°ï¼Œå®ç°ç›¸å¯¹ç®€å•

### åŠ£åŠ¿
- **æ— åºæ€§**: å…ƒç´ ä¸æŒ‰é¡ºåºå­˜å‚¨
- **æœ€åæƒ…å†µ**: æœ€åæƒ…å†µä¸‹å¯èƒ½é€€åŒ–åˆ°O(n)
- **å“ˆå¸Œå†²çª**: éœ€è¦å¤„ç†å“ˆå¸Œå†²çª

## ğŸ“š å¸¸ç”¨æ“ä½œ

### 1. unordered_setåŸºæœ¬æ“ä½œ
```cpp
#include <unordered_set>
using namespace std;

// åˆ›å»ºå’Œåˆå§‹åŒ–
unordered_set<int> us1;
unordered_set<int> us2 = {3, 1, 4, 1, 5};  // è‡ªåŠ¨å»é‡

// æ’å…¥å…ƒç´ 
us1.insert(10);
us1.insert({20, 30, 40});

// æŸ¥æ‰¾å…ƒç´ 
if (us1.find(20) != us1.end()) {
    cout << "Found 20" << endl;
}

// æ£€æŸ¥å…ƒç´ å­˜åœ¨æ€§
if (us1.count(20)) {
    cout << "20 exists" << endl;
}

// åˆ é™¤å…ƒç´ 
us1.erase(20);

// éå†ï¼ˆæ— åºï¼‰
for (const auto& element : us1) {
    cout << element << " ";
}
```

### 2. unordered_mapåŸºæœ¬æ“ä½œ
```cpp
#include <unordered_map>
using namespace std;

// åˆ›å»ºå’Œåˆå§‹åŒ–
unordered_map<string, int> um1;
unordered_map<string, int> um2 = {
    {"apple", 1},
    {"banana", 2}
};

// æ’å…¥å’Œè®¿é—®
um1["orange"] = 3;
um1.insert({"grape", 4});

// å®‰å…¨è®¿é—®
auto it = um1.find("pear");
if (it != um1.end()) {
    cout << "Value: " << it->second << endl;
}

// ä¿®æ”¹å€¼
um1["orange"] = 10;

// åˆ é™¤å…ƒç´ 
um1.erase("orange");

// éå†
for (const auto& [key, value] : um1) {
    cout << key << ": " << value << endl;
}
```

## âš¡ æ€§èƒ½åˆ†æ

### æ—¶é—´å¤æ‚åº¦
- **å¹³å‡æƒ…å†µ**: O(1) - æŸ¥æ‰¾ã€æ’å…¥ã€åˆ é™¤
- **æœ€åæƒ…å†µ**: O(n) - å“ˆå¸Œå†²çªä¸¥é‡æ—¶
- **éå†**: O(n)

### ç©ºé—´å¤æ‚åº¦
- **å­˜å‚¨**: O(n)
- **å“ˆå¸Œè¡¨å¼€é”€**: é¢å¤–çš„å“ˆå¸Œè¡¨ç»“æ„

## ğŸ’¡ ä½¿ç”¨æŠ€å·§

### 1. è‡ªå®šä¹‰å“ˆå¸Œå‡½æ•°
```cpp
// ä¸ºè‡ªå®šä¹‰ç±»å‹å®šä¹‰å“ˆå¸Œå‡½æ•°
struct Point {
    int x, y;
    bool operator==(const Point& other) const {
        return x == other.x && y == other.y;
    }
};

struct PointHash {
    size_t operator()(const Point& p) const {
        return hash<int>()(p.x) ^ (hash<int>()(p.y) << 1);
    }
};

unordered_set<Point, PointHash> pointSet;
```

### 2. æ€§èƒ½ä¼˜åŒ–
```cpp
// é¢„åˆ†é…ç©ºé—´
unordered_set<int> us;
us.reserve(1000);  // é¿å…é¢‘ç¹é‡æ–°å“ˆå¸Œ

// è®¾ç½®è´Ÿè½½å› å­
us.max_load_factor(0.5);  // é™ä½è´Ÿè½½å› å­æé«˜æ€§èƒ½
```

## ğŸ¯ é€‚ç”¨åœºæ™¯

### é€‚ç”¨åœºæ™¯
- **å¿«é€ŸæŸ¥æ‰¾**: éœ€è¦O(1)å¹³å‡æ—¶é—´å¤æ‚åº¦çš„æŸ¥æ‰¾
- **ä¸éœ€è¦æ’åº**: å…ƒç´ é¡ºåºä¸é‡è¦
- **é¢‘ç¹æ’å…¥/åˆ é™¤**: åŠ¨æ€æ•°æ®æ“ä½œ
- **å†…å­˜æ•æ„Ÿ**: ç›¸æ¯”çº¢é»‘æ ‘æ›´èŠ‚çœå†…å­˜

### ä¸é€‚ç”¨åœºæ™¯
- **éœ€è¦æœ‰åº**: éœ€è¦æŒ‰é¡ºåºè®¿é—®å…ƒç´ 
- **èŒƒå›´æŸ¥è¯¢**: éœ€è¦èŒƒå›´æ“ä½œï¼ˆå¦‚lower_boundï¼‰
- **ç¨³å®šæ€§è¦æ±‚**: éœ€è¦ç¨³å®šçš„æ€§èƒ½ä¿è¯

## ğŸ” å¸¸è§é”™è¯¯

### 1. å“ˆå¸Œå†²çªå¤„ç†
```cpp
// æ³¨æ„ï¼šunorderedå®¹å™¨ä¸ä¿è¯å…ƒç´ é¡ºåº
unordered_set<int> us = {1, 2, 3, 4, 5};
// éå†é¡ºåºå¯èƒ½æ¯æ¬¡éƒ½ä¸ä¸€æ ·
```

### 2. æ€§èƒ½é€€åŒ–
```cpp
// é¿å…æ’å…¥è¿‡å¤šé‡å¤å…ƒç´ å¯¼è‡´å“ˆå¸Œå†²çª
unordered_set<int> us;
for (int i = 0; i < 10000; ++i) {
    us.insert(i % 100);  // å¤§é‡é‡å¤å€¼å¯èƒ½å¯¼è‡´æ€§èƒ½é—®é¢˜
}
```

## ğŸ“ å®é™…åº”ç”¨ç¤ºä¾‹

### 1. å¿«é€Ÿå»é‡
```cpp
vector<int> numbers = {3, 1, 4, 1, 5, 9, 2, 6};
unordered_set<int> uniqueNumbers(numbers.begin(), numbers.end());
// æ¯”setæ›´å¿«ï¼Œä½†ç»“æœæ— åº
```

### 2. ç¼“å­˜å®ç°
```cpp
unordered_map<string, int> cache;
string key = "expensive_calculation";

if (cache.find(key) == cache.end()) {
    cache[key] = expensive_function();
}
return cache[key];
```

## ğŸš€ ä¸‹ä¸€æ­¥
- å­¦ä¹  [å®¹å™¨é€‚é…å™¨](./adapters-guide.md)
- äº†è§£ [STLç®—æ³•](./algorithms-guide.md)
- å¼€å§‹ [æ•°æ®ç»“æ„å®ç°](../02-data-structures/)
